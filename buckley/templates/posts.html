{% extends "base.html" %}

{% block title %}{{ title }} >> Admin{% endblock %}

{% block content %}
<article>
	<header>
		<h2>{{ post_type|capitalize }}</h2>
	</header>
	<table id="admin_posts">
		<thead>
		<tr>
			<th><input type="checkbox" id="check_all"></td>
			<th>Title</th>
			<th>Type</th>
			<th>Status</th>
			<th>Date</th>
			<th>Author</th>
			<th></td>
			<th></td>
		</tr>
		</thead>
		<tbody>
		{% for post in posts %}
			<tr>
				<td></td>
				<td>{{ post.title }}</td>
				<td>{{ post.post_type }}</td>
				<td>{{ post.status }}</td>
				<td>{{ post.pubdate|tformat("j M Y") }}</td>
				<td>{{ post.author }}</td>
				<td><a href="/admin/posts/edit/{{ post.key() }}" class="btn info">Edit</a></td>
				<td><a href="/{{ post.stub }}" class="btn info">View</a></td>
		{% endfor %}
		</tbody>
	</table>
</article>

<article>
	<header>
		<h2>Add {{ post_type|capitalize }}</h2>
	</header>
	<p>
		<form method="post" action="/admin/posts" id="admin_edit">
			<input type="text" name="title" /><br />
			<textarea name="content"></textarea><br />
			<input type="hidden" name="post_type" value="{{ post_type }}">
			<button type="submit" name="action" value="save" class="btn primary">Save</button>
			<button type="submit" name="action" value="publish" class="btn success">Publish</button>
		</form>
	</p>
</article>
{% endblock %}